<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="description" content="Hallo, ini adalah proyek yang saya buat dengan bantuan GPT, Gemini, deepseek, ini cuma proyek untuk wolker.">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Proxy Checker Yumi</title>
    <link rel="icon" type="image/x-icon" href="https://github.com/user-attachments/assets/b5feabb7-3f20-4028-9436-e3f3307dd2ae">
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
        integrity="sha512-9usAa10IRO0HhonpyAIVpjrylPvoDwiPUiKdWk5t3PyolY1cOd4DSE0Ga+ri4AuTroPR5aQvXU9xC6qOPnzFeg=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <script>
        document.addEventListener("DOMContentLoaded", function () {
            const htmlElement = document.documentElement;
            const prefersDark = window.matchMedia("(prefers-color-scheme: dark)").matches;
            if (prefersDark) {
                htmlElement.classList.add("dark");
            }
        });
    </script>
</head>

<body class="bg-gray-100 dark:bg-[#0f172a] text-gray-900 dark:text-gray-100 transition-colors duration-300 font-sans">
    <div class="container mx-auto p-4 pt-8">
        <!-- Kontainer utama diubah ke max-w-md untuk tampilan mobile -->
        <div class="max-w-md mx-auto bg-gray-50 dark:bg-[#1e293b] border border-gray-200 dark:border-gray-700 rounded-xl shadow-md">
            <div class="px-6 py-4">
                <h1 class="text-2xl font-semibold text-center mb-5 dark:text-gray-50">Enter Proxy Details</h1>
                <div class="relative">
                    <textarea id="proxy-input" rows="4"
                        class="block p-4 w-full text-base text-gray-900 bg-gray-50 rounded-md border border-gray-300 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"
                        placeholder="43.218.77.16
37.202.222.182:8443
216.58.200.14"></textarea>
                    <span id="proxy-count"
                        class="absolute top-3 right-3 text-sm text-gray-500 dark:text-gray-400">0/20</span>
                </div>
                <div class="flex flex-wrap justify-between mt-4 space-y-2">
                    <div class="flex space-x-2">
                        <button id="example-btn"
                            class="flex items-center justify-center px-4 py-2 text-sm font-medium text-gray-900 focus:outline-none bg-gray-50 rounded-lg border border-gray-200 hover:bg-gray-100 focus:ring-4 focus:ring-gray-200 dark:focus:ring-gray-700 dark:bg-gray-800 dark:text-white dark:border-gray-700 dark:hover:bg-gray-700">
                            <span class="mr-1">üí°</span> Examples
                        </button>
                        <button id="clear-btn"
                            class="flex items-center justify-center px-4 py-2 text-sm font-medium text-red-900 focus:outline-none bg-red-50 rounded-lg border border-red-200 hover:bg-red-100 focus:ring-4 focus:ring-red-200 dark:focus:ring-red-700 dark:bg-red-800 dark:text-red-100 dark:border-red-700 dark:hover:bg-red-700">
                            <span class="mr-1">üóëÔ∏è</span> Clear
                        </button>
                    </div>
                    <button id="check-proxies"
                        class="flex items-center justify-center px-4 py-2 text-sm font-medium text-white bg-purple-600 rounded-lg hover:bg-purple-700 focus:ring-4 focus:ring-purple-300 dark:bg-purple-600 dark:hover:bg-purple-700 focus:outline-none dark:focus:ring-purple-800">
                        <span class="mr-1">üîç</span> Check Proxies
                    </button>
                </div>
            </div>
        </div>

        <div id="loading" class="hidden text-center text-gray-500 mt-4 dark:text-gray-400 text-base">
            <i class="fas fa-spinner fa-spin mr-1"></i> Checking...
        </div>

        <!-- Kontainer hasil juga diubah ke max-w-md -->
        <div id="result-container" class="max-w-md mx-auto mt-6 p-4 hidden">
            <div id="result-body" class="grid gap-4">
                <!-- Contoh card hasil -->
                <div class="bg-gray-50 dark:bg-[#1e293b] border border-red-500 rounded-lg p-4 shadow-sm">
                    <div class="flex justify-between items-center mb-4">
                        <div class="flex items-center space-x-3">
                            <span class="font-semibold text-lg">Proxy IP (Contoh INACTIVE)</span>
                            <span class="inline-flex items-center justify-center px-2 py-0 text-xs font-bold text-white bg-red-500 rounded-full">INACTIVE</span>
                        </div>
                        <div class="flex items-center space-x-1">
                            <span class="text-xl">üè≥Ô∏è</span>
                            <span class="font-medium dark:text-gray-100">Negara (Contoh INACTIVE)</span>
                        </div>
                    </div>
                    <div class="grid grid-cols-2 gap-y-3 text-base dark:text-gray-300">
                        <div>
                            <span class="inline-flex items-center justify-center p-1 text-gray-500 bg-blue-200 rounded-full dark:bg-blue-700 dark:text-gray-400">
                                <i class="fas fa-clock"></i>
                            </span>
                            Delay: <span class="font-medium dark:text-white">-</span>
                        </div>
                        <div>
                            <span class="inline-flex items-center justify-center p-1 text-gray-500 bg-green-200 rounded-full dark:bg-green-700 dark:text-gray-400">
                                <i class="fas fa-globe"></i>
                            </span>
                            Country: <span class="font-medium dark:text-white">-</span>
                        </div>
                        <div>
                            <span class="inline-flex items-center justify-center p-1 text-gray-500 bg-purple-200 rounded-full dark:bg-purple-700 dark:text-gray-400">
                                <i class="fas fa-plug"></i>
                            </span>
                            Port: <span class="font-medium dark:text-white">N/A</span>
                        </div>
                        <div>
                            <span class="inline-flex items-center justify-center p-1 text-gray-500 bg-indigo-200 rounded-full dark:bg-indigo-700 dark:text-gray-400">
                                <i class="fas fa-network-wired"></i>
                            </span>
                            ASN: <span class="font-medium dark:text-white">-</span>
                        </div>
                        <div class="col-span-2">
                            <span class="inline-flex items-center justify-center p-1 text-gray-500 bg-teal-200 rounded-full dark:bg-teal-700 dark:text-gray-400">
                                <i class="fas fa-building"></i>
                            </span>
                            Organization: <span class="font-medium dark:text-white">-</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <footer class="bg-gray-200 dark:bg-[#111827] py-4 mt-8 max-w-md mx-auto">
        <div class="container mx-auto px-4 flex flex-col justify-center items-center">
            <div class="text-gray-800 dark:text-gray-300 text-center text-sm">
                &copy; 2025 Proxy Checker. All rights reserved.
            </div>
            <div class="flex space-x-3 mt-2">
                <a href="https://github.com/tadesomika" target="_blank"
                    class="text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-100">
                    <i class="fab fa-github text-lg"></i>
                </a>
                <a href="https://www.instagram.com/mhmmddnl02/" target="_blank"
                    class="text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-100">
                    <i class="fab fa-instagram text-lg"></i>
                </a>
                <a href="https://t.me/XionAlva" target="_blank"
                    class="text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-100">
                    <i class="fab fa-telegram text-lg"></i>
                </a>
            </div>
        </div>
    </footer>

    <script>
        document.getElementById("proxy-input").addEventListener("input", function () {
            const proxies = this.value.trim().split("\n").filter(line => line);
            document.getElementById("proxy-count").textContent = `${proxies.length}/20`;
        });

        document.getElementById("clear-btn").addEventListener("click", function () {
            document.getElementById("proxy-input").value = "";
            document.getElementById("proxy-count").textContent = "0/20";
        });

        document.getElementById("example-btn").addEventListener("click", function () {
            document.getElementById("proxy-input").value = "36.95.152.58:12137\n37.202.222.182:8443\n216.58.200.14";
            document.getElementById("proxy-count").textContent = "3/20";
        });

        document.getElementById("check-proxies").addEventListener("click", async function () {
            const input = document.getElementById("proxy-input").value.trim();
            if (!input) return;

            document.getElementById("loading").classList.remove("hidden");
            document.getElementById("result-container").classList.add("hidden");

            const proxies = input.split("\n").slice(0, 20);
            let results = [];
            for (const proxy of proxies) {
                const [ip, port] = proxy.split(":");
                if (!ip) continue;
                let actualPort = port;

                if (!port) {
                    actualPort = "443";
                }

                try {
                    const apiUrl = `/api/v1?ip=${ip}&port=${actualPort}`;
                    const res = await fetch(apiUrl);
                    const data = await res.json();
                    results.push(data);
                } catch (e) {
                    console.error("Error fetching:", e);
                    results.push({ ip: ip, port: actualPort, error: true });
                }
            }

            const resultBody = document.getElementById("result-body");
            resultBody.innerHTML = "";
            results.forEach(data => {
                const isActive = data.proxyip && !data.error;
                const row = `
                    <div class="bg-gray-50 dark:bg-[#1e293b] border ${isActive ? 'border-green-500' : 'border-red-500'} rounded-lg p-4 shadow-sm">
                        <div class="flex justify-between items-center mb-4">
                            <div class="flex items-center space-x-3">
                                <span class="font-semibold text-lg">${data.ip}</span>
                                <span class="inline-flex items-center justify-center px-2 py-0 text-xs font-bold text-white ${isActive ? 'bg-green-500' : 'bg-red-500'} rounded-full">${isActive ? 'ACTIVE' : 'INACTIVE'}</span>
                            </div>
                            <div class="flex items-center space-x-1">
                                ${data.countryFlag ? `<span class="text-xl">${data.countryFlag}</span>` : ''}
                                <span class="font-medium dark:text-gray-100">${data.countryName || 'Unknown'}</span>
                            </div>
                        </div>
                        <div class="grid grid-cols-2 gap-y-3 text-base dark:text-gray-300">
                            <div>
                                <span class="inline-flex items-center justify-center p-1 text-gray-500 bg-blue-200 rounded-full dark:bg-blue-700 dark:text-gray-400">
                                    <i class="fas fa-clock"></i>
                                </span>
                                Delay: <span class="font-medium dark:text-white">${data.delay || '-'}</span>
                            </div>
                            <div>
                                <span class="inline-flex items-center justify-center p-1 text-gray-500 bg-green-200 rounded-full dark:bg-green-700 dark:text-gray-400">
                                    <i class="fas fa-globe"></i>
                                </span>
                                Country: <span class="font-medium dark:text-white">${data.countryName || 'Unknown'}</span>
                            </div>
                            <div>
                                <span class="inline-flex items-center justify-center p-1 text-gray-500 bg-purple-200 rounded-full dark:bg-purple-700 dark:text-gray-400">
                                    <i class="fas fa-plug"></i>
                                </span>
                                Port: <span class="font-medium dark:text-white">${data.port || (data.error ? 'N/A' : '-')}</span>
                            </div>
                            <div>
                                <span class="inline-flex items-center justify-center p-1 text-gray-500 bg-indigo-200 rounded-full dark:bg-indigo-700 dark:text-gray-400">
                                    <i class="fas fa-network-wired"></i>
                                </span>
                                ASN: <span class="font-medium dark:text-white">${data.asn || 'Unknown'}</span>
                            </div>
                            <div class="col-span-2">
                                <span class="inline-flex items-center justify-center p-1 text-gray-500 bg-teal-200 rounded-full dark:bg-teal-700 dark:text-gray-400">
                                    <i class="fas fa-building"></i>
                                </span>
                                Organization: <span class="font-medium dark:text-white">${data.asOrganization || 'Unknown'}</span>
                            </div>
                        </div>
                    </div>`;
                resultBody.innerHTML += row;
            });

            document.getElementById("loading").classList.add("hidden");
            document.getElementById("result-container").classList.remove("hidden");
        });
    </script>
</body>

</html>
